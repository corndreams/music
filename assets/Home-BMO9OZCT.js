import{c as E,m as v,o as W,b as D,I as g,r as P,d as x,f as I,h as q,w as F}from"./index-C_b1ikHX.js";import{u as L,S as M,a as V}from"./index-C-BHZet6.js";import{d as $,r as y,h as j,i as A,j as H,v as O,c as a,_ as X,b as z,w as i,F as G,o as J,e as d}from"./index-2N1GBUHz.js";import{o as K}from"./on-popup-reopen-kGYa3oSh.js";const[Q,f]=E("notice-bar"),U={text:String,mode:String,color:String,delay:v(1),speed:v(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var Y=$({name:Q,props:U,emits:["close","replay"],setup(e,{emit:m,slots:n}){let r=0,s=0,h;const w=y(),_=y(),t=j({show:!0,offset:0,duration:0}),R=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return a(g,{class:f("left-icon"),name:e.leftIcon},null)},S=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},k=o=>{e.mode==="closeable"&&(t.show=!1,m("close",o))},B=()=>{if(n["right-icon"])return n["right-icon"]();const o=S();if(o)return a(g,{name:o,class:f("right-icon"),onClick:k},null)},N=()=>{t.offset=r,t.duration=0,P(()=>{I(()=>{t.offset=-s,t.duration=(s+r)/+e.speed,m("replay")})})},T=()=>{const o=e.scrollable===!1&&!e.wrapable,l={transform:t.offset?`translateX(${t.offset}px)`:"",transitionDuration:`${t.duration}s`};return a("div",{ref:w,role:"marquee",class:f("wrap")},[a("div",{ref:_,style:l,class:[f("content"),{"van-ellipsis":o}],onTransitionend:N},[n.default?n.default():e.text])])},c=()=>{const{delay:o,speed:l,scrollable:u}=e,C=q(o)?+o*1e3:0;r=0,s=0,t.offset=0,t.duration=0,clearTimeout(h),h=setTimeout(()=>{if(!w.value||!_.value||u===!1)return;const p=x(w).width,b=x(_).width;(u||b>p)&&I(()=>{r=p,s=b,t.offset=-s,t.duration=s/+l})},C)};return K(c),W(c),D("pageshow",c),L({reset:c}),A(()=>[e.text,e.scrollable],c),()=>{const{color:o,wrapable:l,background:u}=e;return H(a("div",{role:"alert",class:f({wrapable:l}),style:{color:o,background:u}},[R(),T(),B()]),[[O,t.show]])}}});const Z=F(Y),ee={};function te(e,m){const n=V,r=M,s=Z;return J(),z(G,null,[a(r,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:i(()=>[a(n,null,{default:i(()=>[d("1")]),_:1}),a(n,null,{default:i(()=>[d("2")]),_:1}),a(n,null,{default:i(()=>[d("3")]),_:1}),a(n,null,{default:i(()=>[d("4")]),_:1})]),_:1}),a(s,{"left-icon":"volume-o",text:"无论我们能活多久，我们能够享受的只有无法分割的此刻，此外别无其他。"})],64)}const re=X(ee,[["render",te]]);export{re as default};

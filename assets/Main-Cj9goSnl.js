import{c as I,t as B,n as x,m as O,u as V,g as M,w as $,e as N,a as R,B as E,I as j,i as z}from"./index-C_b1ikHX.js";import{d as k,r as A,c as n,g as D,a as F,m as K,_ as Y,b as Z,w as _,o as q,e as h,f as G}from"./index-2N1GBUHz.js";import{u as H}from"./use-placeholder-CBfEajvV.js";import{B as J}from"./on-popup-reopen-kGYa3oSh.js";import{c as L}from"./interceptor-QEdNtPbs.js";import{r as Q,u as U}from"./use-route-BaYZTlHS.js";const[T,C]=I("tabbar"),W={route:Boolean,fixed:B,border:B,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:O(0),safeAreaInsetBottom:{type:Boolean,default:null}},y=Symbol(T);var X=k({name:T,props:W,emits:["change","update:modelValue"],setup(e,{emit:u,slots:r}){const d=A(),{linkChildren:m}=V(y),s=H(d,C),l=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},t=()=>{var a;const{fixed:o,zIndex:c,border:f}=e;return n("div",{ref:d,role:"tablist",style:M(c),class:[C({fixed:o}),{[J]:f,"van-safe-area-bottom":l()}]},[(a=r.default)==null?void 0:a.call(r)])};return m({props:e,setActive:(a,o)=>{L(e.beforeChange,{args:[a],done(){u("update:modelValue",a),u("change",a),o()}})}}),()=>e.fixed&&e.placeholder?s(t):t()}});const ee=$(X),[te,g]=I("tabbar-item"),ae=N({},Q,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var oe=k({name:te,props:ae,emits:["click"],setup(e,{emit:u,slots:r}){const d=U(),m=D().proxy,{parent:s,index:l}=R(y);if(!s)return;const t=F(()=>{var o;const{route:c,modelValue:f}=s.props;if(c&&"$route"in m){const{$route:p}=m,{to:v}=e,i=z(v)?v:{path:v};return!!p.matched.find(P=>{const S="path"in i&&i.path===P.path,w="name"in i&&i.name===P.name;return S||w})}return((o=e.name)!=null?o:l.value)===f}),b=o=>{var c;t.value||s.setActive((c=e.name)!=null?c:l.value,d),u("click",o)},a=()=>{if(r.icon)return r.icon({active:t.value});if(e.icon)return n(j,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var o;const{dot:c,badge:f}=e,{activeColor:p,inactiveColor:v}=s.props,i=t.value?p:v;return n("div",{role:"tab",class:g({active:t.value}),style:{color:i},tabindex:0,"aria-selected":t.value,onClick:b},[n(E,K({dot:c,class:g("icon"),content:f},e.badgeProps),{default:a}),n("div",{class:g("text")},[(o=r.default)==null?void 0:o.call(r,{active:t.value})])])}}});const ne=$(oe),re={setup(){return{active:A(0)}}},ce={class:"commom-layout"};function se(e,u,r,d,m,s){const l=G("router-view"),t=ne,b=ee;return q(),Z("div",ce,[n(l),n(b,{route:""},{default:_(()=>[n(t,{replace:"",to:"/home",icon:"home-o"},{default:_(()=>[h("主页")]),_:1}),n(t,{replace:"",to:"/search",icon:"search"},{default:_(()=>[h("搜索")]),_:1}),n(t,{replace:"",to:"/user",icon:"user-o"},{default:_(()=>[h("用户")]),_:1})]),_:1})])}const ve=Y(re,[["render",se]]);export{ve as default};
